<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Find Your Perfect Hamster - HamsterMatch</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="images/HamsterMatch Logo.png">
  <style>
    @font-face {
      font-family: 'BaraTH';
      src: url('fonts/bara.ttf') format('truetype');
    }
  </style>
</head>
<body style="font-family: 'Segoe UI', Tahoma, sans-serif; 
             background: url('images/HamsterBackground.png') no-repeat center center fixed;
             background-size: cover; margin: 0; padding: 0; min-height: 100vh; 
             display: flex; flex-direction: column;">
  <!-- Header with centered logo -->
  <header style="text-align: center; padding: 20px; background: transparent;">
    <div style="max-width: 800px; margin: 0 auto; padding: 0 20px;">
      <!-- Logo container with perfect centering -->
      <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 1rem;">
        <img src="images/HamsterMatch Logo.png" alt="HamsterMatch Logo" 
             style="width: 90px; height: 90px; border-radius: 50%; 
                    box-shadow: 0 8px 25px rgba(98, 68, 47, 0.15); 
                    object-fit: cover; border: 3px solid #fff; vertical-align: middle;">
      </div>
      <h1 style="color: #62442f; margin: 0; font-size: 55px; font-weight: bold; font-family: 'BaraTH', sans-serif;">
        🐹 HamsterMatch
      </h1>
      <p style="color: #5a4636; font-size: 18px; margin: 10px 0;">
        Find your perfect pocket-sized companion!
      </p>
      <nav style="margin-top: 1.5rem;">
        <a href="index.html" style="text-decoration: none; color: #62442f; margin: 0 15px; 
           padding: 8px 16px; border-radius: 20px; background: rgba(255,255,255,0.9);
           transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">🏠 Home</a>
        <a href="cat.html" style="text-decoration: none; color: #62442f; margin: 0 15px;
           padding: 8px 16px; border-radius: 20px; background: rgba(255,255,255,0.9);
           transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">🐱 Cats</a>
        <a href="dog.html" style="text-decoration: none; color: #62442f; margin: 0 15px;
           padding: 8px 16px; border-radius: 20px; background: rgba(255,255,255,0.9);
           transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">🐶 Dogs</a>
        <a href="rabbit.html" style="text-decoration: none; color: #62442f; margin: 0 15px;
           padding: 8px 16px; border-radius: 20px; background: rgba(255,255,255,0.9);
           transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">🐰 Rabbits</a>
      </nav>
    </div>
  </header>

  <main style="flex: 1; display: flex; justify-content: center; align-items: flex-start; padding: 40px 20px;">
    <div style="background: rgba(255, 255, 255, 0.95); max-width: 800px; width: 100%; 
                border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
                overflow: hidden; backdrop-filter: blur(10px);">
      
      <!-- Content sections inside the container -->
      <div style="padding: 2rem 2rem;">
        <section style="text-align: center; margin-bottom: 3rem;">
          <h2 style="color: #62442f; font-size: 2rem; margin-bottom: 1rem; font-family: 'BaraTH', sans-serif;">
            Welcome to HamsterMatch! 🐹
          </h2>
          <p style="color: #8b6b3d; font-size: 1.1rem; line-height: 1.6; margin-bottom: 2rem;">
            Discover the perfect hamster breed for your lifestyle! Our AI-powered matching system 
            helps you find a furry friend that fits your living situation, experience level, and preferences.
          </p>
        </section>

        <section style="background: rgba(255,255,255,0.7); padding: 2rem; border-radius: 20px; 
                        box-shadow: 0 5px 20px rgba(98, 68, 47, 0.1); margin-bottom: 2rem;">
          <h3 style="color: #62442f; font-size: 1.5rem; margin-bottom: 1.5rem; text-align: center; font-family: 'BaraTH', sans-serif;">
            🌟 Why Choose a Hamster?
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
                      gap: 1.5rem; text-align: left;">
            <div style="padding: 1rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">🏠 Perfect for Small Spaces</h4>
              <p style="color: #8b6b3d;">Great for apartments and dorms</p>
            </div>
            <div style="padding: 1rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">💝 Low Maintenance</h4>
              <p style="color: #8b6b3d;">Easy care routine for busy lifestyles</p>
            </div>
            <div style="padding: 1rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">🎭 Entertaining Personalities</h4>
              <p style="color: #8b6b3d;">Playful and fun to watch</p>
            </div>
            <div style="padding: 1rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">👨‍👩‍👧‍👦 Family Friendly</h4>
              <p style="color: #8b6b3d;">Great pets for children to learn responsibility</p>
            </div>
          </div>
        </section>

        <!-- Popular Hamster Breeds -->
        <section style="background: rgba(255,255,255,0.7); padding: 2rem; border-radius: 20px; 
                        box-shadow: 0 5px 20px rgba(98, 68, 47, 0.1); margin-bottom: 2rem;">
          <h3 style="color: #62442f; font-size: 1.5rem; margin-bottom: 1.5rem; text-align: center; font-family: 'BaraTH', sans-serif;">
            🐹 Popular Hamster Breeds
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
                      gap: 1.5rem; text-align: center;">
            <div style="padding: 1rem; border-radius: 15px; background: rgba(255,245,234,0.8);">
              <img src="images/Syrian-Hamster_grande.webp" alt="Syrian Hamster" 
                   style="width: 100%; height: 120px; object-fit: cover; border-radius: 10px; margin-bottom: 0.5rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">Syrian Hamster</h4>
              <p style="color: #8b6b3d; font-size: 0.9rem;">Large, solitary, and gentle - perfect for beginners!</p>
            </div>
            <div style="padding: 1rem; border-radius: 15px; background: rgba(255,245,234,0.8);">
              <img src="images/dwarf hamster.jpg" alt="Dwarf Hamster" 
                   style="width: 100%; height: 120px; object-fit: cover; border-radius: 10px; margin-bottom: 0.5rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">Dwarf Hamster</h4>
              <p style="color: #8b6b3d; font-size: 0.9rem;">Small, social, and active - great for experienced owners!</p>
            </div>
            <div style="padding: 1rem; border-radius: 15px; background: rgba(255,245,234,0.8);">
              <img src="images/Roborovski-hamster.jpg" alt="Roborovski Hamster" 
                   style="width: 100%; height: 120px; object-fit: cover; border-radius: 10px; margin-bottom: 0.5rem;">
              <h4 style="color: #62442f; margin-bottom: 0.5rem; font-family: 'BaraTH', sans-serif;">Roborovski</h4>
              <p style="color: #8b6b3d; font-size: 0.9rem;">Tiny, fast, and entertaining - for experienced handlers!</p>
            </div>
          </div>
        </section>

        <!-- AI Chatbot Section -->
        <section id="chatbot-section" style="background: rgba(255,255,255,0.7); padding: 2rem; 
                                            border-radius: 20px; box-shadow: 0 5px 20px rgba(98, 68, 47, 0.1);">
          <h3 style="margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: center; 
                     gap: 0.7rem; color: #62442f; font-size: 1.5rem; font-family: 'BaraTH', sans-serif;">
            🤖 Ask Nibbles
          </h3>
          <p style="text-align: center; color: #8b6b3d; margin-bottom: 1.5rem;">
            Get personalized hamster recommendations based on your lifestyle and preferences!
          </p>
          <div id="chat-messages" style="min-height: 100px; margin-bottom: 1rem; padding: 1rem; 
                                         background: rgba(255,245,234,0.8); border-radius: 15px; text-align: left;"></div>
          <form id="chat-form" style="display: flex; gap: 0.5rem;">
            <input id="chat-input" type="text" 
                   placeholder="Ask me about hamster care, breeds, or housing..." 
                   style="flex: 1; padding: 12px 16px; border-radius: 25px; border: 2px solid #e0d5c7; 
                          outline: none; font-size: 1rem; background: rgba(255,255,255,0.9);" required />
            <button type="submit" 
                    style="background: #62442f; color: #fff; border: none; border-radius: 25px; 
                           padding: 12px 20px; font-weight: 700; cursor: pointer; font-size: 1rem;
                           transition: all 0.3s ease;">
              Send 🐹
            </button>
          </form>
          <button id="clear-chat" type="button"
                  style="background: #d7d0c8; color: #62442f; border: none; border-radius: 25px; 
                         padding: 8px 16px; font-weight: 600; cursor: pointer; font-size: 0.9rem;
                         margin-top: 0.5rem; transition: all 0.3s ease;">
            Clear Chat History
          </button>
          <div id="chat-error" style="color: #d63384; font-size: 0.95rem; margin-top: 0.5rem; text-align: center;"></div>
        </section>
      </div>
    </div>
  </main>

  <footer style="text-align: center; padding: 1rem; color: #8b6b3d; 
                 background: rgba(240, 230, 210, 0.9); backdrop-filter: blur(10px);">
    <p>&copy; 2025 PawfectMatch. Find your perfect pet companion with AI! 🐹❤️</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // HamsterMatch AI Chatbot
    async function query(data) {
      const response = await fetch(
        "https://han-sooyoung-flowise.hf.space/api/v1/prediction/4f51246e-c7b8-4184-b7ab-d88ac7c978f4",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(data)
        }
      );
      const result = await response.json();
      return result;
    }

    function renderMarkdown(md) {
      if (window.marked) {
        return window.marked.parse(md);
      }
      // Fallback: basic markdown to HTML conversion
      let html = md
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // bold
        .replace(/\*(.*?)\*/g, '<em>$1</em>') // italics
        .replace(/`([^`]+)`/g, '<code style="background:#f0e6d2;padding:2px 4px;border-radius:3px;">$1</code>') // inline code
        .replace(/\n/g, '<br>'); // line breaks
      return html;
    }

    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('chat-form');
      const input = document.getElementById('chat-input');
      const messages = document.getElementById('chat-messages');
      const errorDiv = document.getElementById('chat-error');
      const clearBtn = document.getElementById('clear-chat');

      // Welcome message
      messages.innerHTML = `
        <div style='padding: 10px; background: #e8f5e8; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid #62442f;'>
          <strong>🐹 Nibbles:</strong> Hi there! I'm here to help you find the perfect hamster companion. 
          Ask me about different breeds, care requirements, housing needs, or anything else about hamsters!
        </div>
      `;

      // Clear chat functionality
      clearBtn.addEventListener('click', function() {
        if (confirm('Are you sure you want to clear the chat history?')) {
          messages.innerHTML = `
            <div style='padding: 10px; background: #e8f5e8; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid #62442f;'>
              <strong>🐹 Nibbles:</strong> Hi there! I'm here to help you find the perfect hamster companion. 
              Ask me about different breeds, care requirements, housing needs, or anything else about hamsters!
            </div>
          `;
          errorDiv.textContent = '';
        }
      });

      // Add hover effect to clear button
      clearBtn.addEventListener('mouseenter', function() {
        this.style.background = '#bbb5ad';
      });
      clearBtn.addEventListener('mouseleave', function() {
        this.style.background = '#d7d0c8';
      });

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const userMsg = input.value.trim();
        if (!userMsg) return;

        // Add user message
        messages.innerHTML += `
          <div style='padding: 10px; background: #fff; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid #8b6b3d;'>
            <strong>You:</strong> ${userMsg}
          </div>
        `;
        
        input.value = '';
        errorDiv.textContent = '';

        try {
          // Add typing indicator
          messages.innerHTML += `
            <div id='typing' style='padding: 10px; background: #f8f9fa; border-radius: 10px; margin-bottom: 10px; color: #8b6b3d; font-style: italic;'>
              🐹 Nibbles is thinking...
            </div>
          `;
          messages.scrollTop = messages.scrollHeight;

          // Enhanced prompt for hamster-specific responses
          const hamsterPrompt = `You are Nibbles, a specialized assistant for hamster care and breed matching. 
            The user is asking: "${userMsg}"
            
            Please provide helpful, accurate information about hamsters, their care, breeds, housing, feeding, health, or behavior. 
            Be friendly, informative, and focus specifically on hamster-related topics. Use emojis appropriately and keep responses concise but helpful.`;

          const response = await query({"question": hamsterPrompt});
          let botMsg = response.text || JSON.stringify(response);

          // Remove typing indicator
          const typingDiv = document.getElementById('typing');
          if (typingDiv) typingDiv.remove();

          // Add bot response
          messages.innerHTML += `
            <div style='padding: 10px; background: #e8f5e8; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid #62442f;'>
              <strong>🐹 Nibbles:</strong> ${renderMarkdown(botMsg)}
            </div>
          `;
          
          messages.scrollTop = messages.scrollHeight;
        } catch (err) {
          // Remove typing indicator
          const typingDiv = document.getElementById('typing');
          if (typingDiv) typingDiv.remove();
          
          errorDiv.textContent = 'Sorry, I had trouble connecting. Please try again! 🐹';
          console.error('Chat error:', err);
        }
      });

      // Add hover effects to navigation
      const navLinks = document.querySelectorAll('nav a');
      navLinks.forEach(link => {
        link.addEventListener('mouseenter', function() {
          this.style.background = 'rgba(98, 68, 47, 0.1)';
          this.style.transform = 'translateY(-2px)';
        });
        link.addEventListener('mouseleave', function() {
          this.style.background = 'rgba(255,255,255,0.7)';
          this.style.transform = 'translateY(0)';
        });
      });
    });
  </script>
</body>
</html>
